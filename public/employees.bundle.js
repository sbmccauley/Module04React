(()=>{"use strict";class e extends React.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){e.preventDefault();const t=document.forms.employeeAdd,l={name:t.name.value,extension:t.ext.value,email:t.email.value,title:t.title.value};this.props.createEmployee(l),t.name.value="",t.ext.value="",t.email.value="",t.title.value=""}render(){return React.createElement("form",{name:"employeeAdd",onSubmit:this.handleSubmit},"Name: ",React.createElement("input",{type:"text",name:"name"}),React.createElement("br",null),"Extension: ",React.createElement("input",{type:"text",name:"ext",maxLength:4}),React.createElement("br",null),"Email: ",React.createElement("input",{type:"text",name:"email"}),React.createElement("br",null),"Title: ",React.createElement("input",{type:"text",name:"title"}),React.createElement("br",null),React.createElement("button",null,"Add"))}}class t extends React.Component{render(){return React.createElement("div",null,"This is a placeholder for the employee filter.")}}function l(e){const t=e.employees.map((t=>React.createElement(a,{key:t._id,employee:t,deleteEmployee:e.deleteEmployee})));return React.createElement("table",{className:"bordered-table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Extension"),React.createElement("th",null,"Email"),React.createElement("th",null,"Title"),React.createElement("th",null,"Date Hired"),React.createElement("th",null,"Currently Employed?"),React.createElement("th",null))),React.createElement("tbody",null,t))}function a(e){return React.createElement("tr",null,React.createElement("td",null,e.employee.name),React.createElement("td",null,e.employee.extension),React.createElement("td",null,e.employee.email),React.createElement("td",null,e.employee.title),React.createElement("td",null,e.employee.dateHired.toDateString()),React.createElement("td",null,e.employee.currentlyEmployed?"Yes":"No"),React.createElement("td",null,React.createElement("button",{onClick:function(){e.deleteEmployee(e.employee._id)}},"DELETE")))}class n extends React.Component{constructor(){super(),this.state={employees:[]},this.createEmployee=this.createEmployee.bind(this),this.deleteEmployee=this.deleteEmployee.bind(this)}componentDidMount(){this.loadData()}loadData(){fetch("/api/employees").then((e=>e.json())).then((e=>{console.log("Total count of employees:",e.count),e.employees.forEach((e=>{e.dateHired=new Date(e.dateHired)})),this.setState({employees:e.employees})})).catch((e=>{console.log(e)}))}createEmployee(e){fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{e.employee.dateHired=new Date(e.employee.dateHired);const t=this.state.employees.concat(e.employee);this.setState({employees:t}),console.log("Total count of employees:",t.length)})).catch((e=>{console.log(e)}))}deleteEmployee(e){fetch(`/api/employees/${e}`,{method:"DELETE"}).then((e=>{e.ok?this.loadData():console.log("Failed to delete employee.")}))}render(){return React.createElement(React.Fragment,null,React.createElement("h1",null,"Employee Management Application"),React.createElement(t,null),React.createElement("hr",null),React.createElement(l,{employees:this.state.employees,deleteEmployee:this.deleteEmployee}),React.createElement("hr",null),React.createElement(e,{createEmployee:this.createEmployee}))}}ReactDOM.render(React.createElement(React.StrictMode,null,React.createElement(n,null)),document.getElementById("content"))})();